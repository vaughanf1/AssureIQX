# AssureXRay — Central Configuration
# All hyperparameters, paths, and seeds in one place.
# Override any value via CLI: --override training.batch_size=64

seed: 42
device: auto  # auto | cpu | cuda | mps

# ── Data ─────────────────────────────────────────────
data:
  raw_dir: data_raw
  splits_dir: data/splits
  image_size: 380
  num_workers: 0
  train_split: 0.70
  val_split: 0.15
  test_split: 0.15
  annotations_dir: data_raw/Annotations
  figshare_url: "https://ndownloader.figshare.com/files/50653575"
  figshare_article_id: 27865398
  figshare_file_id: 50653575
  expected_md5: "59132a5036d030580ccade8add8f13df"
  expected_image_count: 3746

# ── Model ────────────────────────────────────────────
model:
  backbone: efficientnet_b3
  pretrained: true
  num_classes: 3
  dropout: 0.3
  class_names:
    - Normal
    - Benign
    - Malignant

# ── Training ─────────────────────────────────────────
training:
  batch_size: 16
  learning_rate: 0.0003
  weight_decay: 0.0001
  epochs: 50
  early_stopping_patience: 15
  warmup_epochs: 3
  label_smoothing: 0.1
  scheduler: cosine
  class_weights: auto
  loss_type: cross_entropy
  split_strategy: stratified

# ── Evaluation ───────────────────────────────────────
evaluation:
  bootstrap_iterations: 1000
  confidence_level: 0.95
  split_strategies:
    - stratified
    - center

# ── Grad-CAM ────────────────────────────────────────
gradcam:
  target_layer: auto
  examples_per_class: 3
  methods:
    - GradCAM

# ── Inference ────────────────────────────────────────
inference:
  default_checkpoint: checkpoints/best_stratified.pt

# ── Paths ────────────────────────────────────────────
paths:
  checkpoints_dir: checkpoints
  results_dir: results
  docs_dir: docs
  logs_dir: logs
